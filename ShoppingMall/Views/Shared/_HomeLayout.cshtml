<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!--Less styles -->
    <!-- Other Less css file //different less files has different color scheam
	<link rel="stylesheet/less" type="text/css" href="themes/less/simplex.less">
	<link rel="stylesheet/less" type="text/css" href="themes/less/classified.less">
	<link rel="stylesheet/less" type="text/css" href="themes/less/amelia.less">  MOVE DOWN TO activate
	-->
    <!--<link rel="stylesheet/less" type="text/css" href="themes/less/bootshop.less">
	<script src="themes/js/less.js" type="text/javascript"></script> -->

    <!-- Bootstrap style -->
    <link id="callCss" rel="stylesheet" href="@Url.Content("~/Content/themes/bootstrap/css/bootstrap.min.css")" media="screen"/>
    <link href="@Url.Content("~/Content/themes/themes/css/base.css")" rel="stylesheet" media="screen"/>
    <!-- Bootstrap style responsive -->
    <link href="@Url.Content("~/Content/themes/themes/css/bootstrap-responsive.min.css")" rel="stylesheet"/>
    @*<link href="@Url.Content("~/Content/themes/themes/base/jquery-ui.css")" rel="stylesheet"/>*@
    <link href="@Url.Content("~/Content/themes/themes/css/font-awesome.css")" rel="stylesheet" type="text/css">
    <!-- Google-code-prettify -->
    <link href="@Url.Content("~/Content/themes/themes/js/google-code-prettify/prettify.css")" rel="stylesheet"/>
    <!-- fav and touch icons -->
    <link rel="shortcut icon" href="@Url.Content("~/Content/themes/themes/images/ico/favicon.ico")">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="@Url.Content("~/Content/themes/themes/images/ico/apple-touch-icon-144-precomposed.png")">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="@Url.Content("~/Content/themes/themes/images/ico/apple-touch-icon-114-precomposed.png")">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="@Url.Content("~/Content/themes/themes/images/ico/apple-touch-icon-72-precomposed.png")">
    <link rel="apple-touch-icon-precomposed" href="@Url.Content("~/Content/themes/themes/images/ico/apple-touch-icon-57-precomposed.png")">
    <style type="text/css" id="enject"></style>
</head>
<body>
    <div id="header">
        <div class="container">
            <div id="welcomeLine" class="row">
                @*<div class="span6">Welcome!<strong> User</strong></div>*@
                <div class="span6" style="float:right;width:770px;">
                    <div class="pull-right">
                        @*<a href="product_summary.html"><span class="">Fr</span></a>
                        <a href="product_summary.html"><span class="">Es</span></a>
                        <span class="btn btn-mini">En</span>
                        <a href="product_summary.html"><span>&pound;</span></a>
                        <span class="btn btn-mini">RS. @Session["GrandTotal"].ToString()</span>*@
                        @*<a href="#"><span class="">$</span></a>*@
                        @{
                            
                            int item = 0;
                            if (Session["AddtoCartItems"] != null)
                            {
                                var list = Session["AddtoCartItems"] as List<ShoppingMall.Models.AddtoCart>;
                                item = list.Count;
                            }
                            
                          
                       
                        <a href="@Url.Action("ViewCart", "Home")"><span class="btn btn-mini btn-primary"><i class="icon-shopping-cart icon-white"></i>[@item] Itemes in your cart 
                            
                                                                      (RS.  @if (Session["GrandTotal"] != null)
                                                                      {
                                                                            @Session["GrandTotal"].ToString();
                                                                      }
                                                                      else
                                                                      {
                                                                         <span>0.00</span>
                                                                      }
                                                                      )
                             </span></a>
 }
                        <div style="float: right;">
                                @if (Session["UserFirstName"] != null && Session["UserFirstName"].ToString() != "")
                                {
                                    <span style="float: right; margin-left: 15px;">Welcome!<strong> <a href="@Url.Action("AccountSetting", "Home")" style="text-decoration:underline;">@Session["UserFirstName"].ToString()</a></strong>
                                        <a href="@Url.Action("Logout", "Home")" style="padding-top: 0px;"><span class="btn btn-success">Logout</span></a>
                                    </span>
                                }
                                else
                                {
                                    <a href="#login" role="button" data-toggle="modal" style="padding-top: 0px; margin-left: 5px;"><span class="btn btn-success">Login</span></a>
                                    
                                }
                            <div id="login" class="modal hide fade in" tabindex="-1" role="dialog" aria-labelledby="login" aria-hidden="false" style="width: 30%; margin-left: 0px;">

                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                            <h3 style="text-align: center;">Login</h3>
                                        </div>
                                        <div class="modal-body" style="text-align:center;">
                                            @*@using (Html.BeginForm("Login", "Home", FormMethod.Post, new { @id = "frmLogin", @class = "form-horizontal loginFrm" }))
                                            {    
                                                *@
                                            <div style="text-align: center;">
                                                <div id="divErrorMsg">

                                                </div>
                                                    <div class="control-group">
                                                        <input type="text" id="Email" name="Email" placeholder="Email" required="required">
                                                    </div>
                                                    <div class="control-group">
                                                        <input type="password" id="Password" name="Password" placeholder="Password" required="required">
                                                    </div>
                                                </div>
                                                <div style="text-align: center; margin-top: 15px;">
                                                    <button type="button" class="btn btn-success" onclick="Login();">Sign in</button>
                                                    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
                                                </div>
                                                <div style="padding-top:5px;">
                                                    <span style="float:left;"><a href="@Url.Action("ForgotPassword","Home")">Forget password?</a></span>
                                            <span style="float:right;"><a href="@Url.Action("Registration","Home")">New User Registration?</a></span>
                                                </div>
                                            @*}*@
                                        </div>

                                    </div>
                            </div>
                    </div>
                </div>
            </div>
            <!-- Navbar ================================================== -->
            <div id="logoArea" class="navbar" style="margin-bottom:0px;">
                <a id="smallScreen" data-target="#topMenu" data-toggle="collapse" class="btn btn-navbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <div class="navbar-inner">
                    <a class="brand" href="@Url.Action("Index", "Home")">
                    <h2>Shopping Mall</h2>
                        @*<img src="@Url.Content("~/Content/themes/themes/images/logo.png")" alt="Bootsshop"/>*@</a>
                    <div style="float:right; margin-top:10px;">
                        @Html.Partial("_SearchProduct")
                    </div>
                    
                </div>
            </div>
           @Html.Partial("_MenuBar")
        </div>

    </div>
    <!-- Header End====================================================================== -->

    @RenderBody()
    <div id="mainBody">

        <div class="container">
        </div>
    </div>
    <!-- Footer ================================================================== -->
    <div id="footerSection">
        <div class="container">
            <div class="row">
                <div style="float:left;">
                    <p class="pull-right">&copy; 2015 Shopping Mall All rights reserved.</p>
                </div>
                
                <div id="socialMedia" class="span3 pull-right">
                    
                    <a href="#">
                        <img width="40" height="40" src="~/Content/themes/themes/images/facebook.png" title="facebook" alt="facebook" /></a>
                    <a href="#">
                        <img width="40" height="40" src="~/Content/themes/themes/images/twitter.png" title="twitter" alt="twitter" /></a>
                    <a href="#">
                        <img width="40" height="40" src="~/Content/themes/themes/images/youtube.png" title="youtube" alt="youtube" /></a>
                </div>
            </div>
            
        </div>
        <!-- Container End -->
    </div>
    <!-- Placed at the end of the document so the pages load faster ============================================= -->
    <script src="@Url.Content("~/Content/themes/themes/js/jquery.js")" type="text/javascript"></script>

    @*<script src="@Url.Content("~/Scripts/jquery-1.7.1.js")" type="text/javascript"></script>*@
    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.20.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/themes/themes/js/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/themes/themes/js/google-code-prettify/prettify.js")"></script>

    <script src="@Url.Content("~/Content/themes/themes/js/bootshop.js")"></script>
    <script src="@Url.Content("~/Content/themes/themes/js/jquery.lightbox-0.5.js")"></script>

    <!--menu script-->
    <link href="~/Content/css/bootstrap.css" rel='stylesheet' type='text/css' />
    <!-- jQuery (necessary JavaScript plugins) -->
    <!-- Custom Theme files -->
    <link href="~/Content/css/style.css" rel='stylesheet' type='text/css' />
    <link href="~/Content/css/megamenu.css" rel="stylesheet" type="text/css" media="all" />
    <script type="text/javascript" src="~/Content/js/megamenu.js"></script>
    <script>$(document).ready(function () { $(".megamenu").megamenu(); });</script>
    <script src="~/Content/js/menu_jquery.js"></script>
    <script src="~/Content/js/simpleCart.min.js"> </script>

    <!-- Themes switcher section ============================================================================================= -->
    <div id="secectionBox">
        <link rel="stylesheet" href="@Url.Content("~/Content/themes/themes/switch/themeswitch.css")" type="text/css" media="screen" />
        <script src="@Url.Content("~/Content/themes/themes/switch/theamswitcher.js")" type="text/javascript" charset="utf-8"></script>
        <div id="themeContainer">
            <div id="hideme" class="themeTitle">Style Selector</div>
            <div class="themeName">Oregional Skin</div>
            <div class="images style">
                <a href="themes/css/#" name="bootshop">
                    <img src="~/Content/themes/themes/switch/images/clr/bootshop.png" alt="bootstrap business templates" class="active"></a>
                <a href="themes/css/#" name="businessltd">
                    <img src="~/Content/themes/themes/switch/images/clr/businessltd.png" alt="bootstrap business templates" class="active"></a>
            </div>
            <div class="themeName">Bootswatch Skins (11)</div>
            <div class="images style">
                <a href="themes/css/#" name="amelia" title="Amelia">
                    <img src="~/Content/themes/themes/switch/images/clr/amelia.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="spruce" title="Spruce">
                    <img src="~/Content/themes/themes/switch/images/clr/spruce.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="superhero" title="Superhero">
                    <img src="~/Content/themes/themes/switch/images/clr/superhero.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="cyborg">
                    <img src="~/Content/themes/themes/switch/images/clr/cyborg.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="cerulean">
                    <img src="~/Content/themes/themes/switch/images/clr/cerulean.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="journal">
                    <img src="~/Content/themes/themes/switch/images/clr/journal.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="readable">
                    <img src="~/Content/themes/themes/switch/images/clr/readable.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="simplex">
                    <img src="~/Content/themes/themes/switch/images/clr/simplex.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="slate">
                    <img src="~/Content/themes/themes/switch/images/clr/slate.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="spacelab">
                    <img src="~/Content/themes/themes/switch/images/clr/spacelab.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="united">
                    <img src="~/Content/themes/themes/switch/images/clr/united.png" alt="bootstrap business templates"></a>
                <p style="margin: 0; line-height: normal; margin-left: -10px; display: none;"><small>These are just examples and you can build your own color scheme in the backend.</small></p>
            </div>
            <div class="themeName">Background Patterns </div>
            <div class="images patterns">
                <a href="themes/css/#" name="pattern1">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern1.png" alt="bootstrap business templates" class="active"></a>
                <a href="themes/css/#" name="pattern2">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern2.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern3">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern3.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern4">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern4.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern5">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern5.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern6">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern6.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern7">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern7.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern8">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern8.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern9">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern9.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern10">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern10.png" alt="bootstrap business templates"></a>

                <a href="themes/css/#" name="pattern11">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern11.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern12">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern12.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern13">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern13.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern14">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern14.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern15">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern15.png" alt="bootstrap business templates"></a>

                <a href="themes/css/#" name="pattern16">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern16.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern17">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern17.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern18">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern18.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern19">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern19.png" alt="bootstrap business templates"></a>
                <a href="themes/css/#" name="pattern20">
                    <img src="~/Content/themes/themes/switch/images/pattern/pattern20.png" alt="bootstrap business templates"></a>

            </div>
        </div>
    </div>
    
    <script type="text/javascript">


        $(document).ready(function () {

            $(document).ready(function () {

                $("#ProductName").autocomplete({
                    source: function (request, response) {
                        $.ajax({
                            url: "@Url.Action("ProductNameList", "Home")",
                            type: "POST",
                            minLength: 1,
                            dataType: "json",
                            data: { ProductName: request.term },
                            success: function (data) {
                        
                                response($.map(data, function (item) {
                             

                                    return { label: item.ProductName, value: item.ProductName, id: item.ProductID };
                                }))
                                
                            },
                            error: function (jq, status, message) {
                                alert(message);
                            }
                        });
                    }
                
             ,
             select: function (event, c) {

             },
             autoFocus: true
         });
             });

            $("#btnLoginClose").click(function () {
                $("#Email").val('');
                $("#Password").val('');
                $("#divErrorMsg").text('');
            });
        });

        

        function Login() {

            var email = $("#Email").val();
            var password = $("#Password").val();

            if (email == "") {
                $("#divErrorMsg").css("color", "red");
                $("#divErrorMsg").text("Please Enter Email ID");
                return false;
            }

            if (password == "") {
                $("#divErrorMsg").css("color", "red");
                $("#divErrorMsg").text("Please Enter Password");
                return false;
            }

            $.ajax({
                url: '@Url.Action("Login", "Home")',
                    type: "post",
                    data: { Email: email, Password: password },
                    success: function (data) {
                        if (data == "Success") {
                            window.location = '@Url.Action("Index", "Home")';
                        }
                        else {
                            $("#divErrorMsg").css("color", "red");
                            $("#divErrorMsg").text(data);
                        }
                    },
                    error: function (request, status, error) {
                        $("#divErrorMsg").css("color", "red");
                        $("#divErrorMsg").text(request.responseText);

                    }
                });
            }
            
        
    </script>

    @*<div>
        @RenderBody()
    </div>*@
</body>
</html>
